<!--IconValuesStart-->
{
"music":"musical-notes",
"video":"logo-youtube",
"img":"image",
"office":"newspaper",
"txt":"clipboard",
"zip":"file-tray-full",
"iso":"disc",
"apk":"logo-android",
"exe":"logo-windows",
"default":"document"
}
<!--IconValuesEnd-->
<!DOCTYPE html>
<html lang="<!--constStr@language-->">

<head>
  <title>
    <!--Title-->
  </title>
  <meta charset=utf-8>
  <meta http-equiv=X-UA-Compatible content="IE=edge">
  <meta name=viewport content="width=device-width,initial-scale=1">
  <meta name="keywords" content="<!--Keywords-->">
  <meta name="description" content="<!--Description-->">
  <link rel="icon" href="<!--base_path-->favicon.ico" type="image/x-icon" />
  <link rel="icon" href="https://mistyhill-my.sharepoint.com/_layouts/15/images/odbfavicon.ico?rev=47"
    type="image/x-icon">
  <link href="//cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/05/29/3d-snow.css">
  <script src="//cdn.bootcdn.net/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js'></script>
  <script type="text/javascript"
    src="https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/05/29/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/05/29/snow.js"></script>
  <style>
    a {
      text-decoration: none;
      color: dimgray;
    }

    .title {
      text-align: center;
      font-family: '-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif', Helvetica, Arial, sans-serif;
    }

    .btn-secondary {
      padding: .375rem 1rem;

    }

    .btn-secondary[now] {
      background-color: #545b62;
      box-shadow: 0 0 0 0.2rem rgba(130, 138, 145, .5);
    }

    ion-icon {
      vertical-align: -0.1em;
    }

    body {
      background-image: url('<!--BackgroundUrl-->');
      background: -webkit-linear-gradient(0deg, rgba(247, 149, 51, 0.1) 0, rgba(243, 112, 85, 0.1) 15%, rgba(239, 78, 123, 0.1) 30%, rgba(161, 102, 171, 0.1) 44%, rgba(80, 115, 184, 0.1) 58%, rgba(16, 152, 173, 0.1) 72%, rgba(7, 179, 155, 0.1) 86%, rgba(109, 186, 130, 0.1) 100%);
      background: -moz-linear-gradient(0deg, rgba(247, 149, 51, 0.1) 0, rgba(243, 112, 85, 0.1) 15%, rgba(239, 78, 123, 0.1) 30%, rgba(161, 102, 171, 0.1) 44%, rgba(80, 115, 184, 0.1) 58%, rgba(16, 152, 173, 0.1) 72%, rgba(7, 179, 155, 0.1) 86%, rgba(109, 186, 130, 0.1) 100%);
      background: -o-linear-gradient(0deg, rgba(247, 149, 51, 0.1) 0, rgba(243, 112, 85, 0.1) 15%, rgba(239, 78, 123, 0.1) 30%, rgba(161, 102, 171, 0.1) 44%, rgba(80, 115, 184, 0.1) 58%, rgba(16, 152, 173, 0.1) 72%, rgba(7, 179, 155, 0.1) 86%, rgba(109, 186, 130, 0.1) 100%);
      background: -ms-linear-gradient(0deg, rgba(247, 149, 51, 0.1) 0, rgba(243, 112, 85, 0.1) 15%, rgba(239, 78, 123, 0.1) 30%, rgba(161, 102, 171, 0.1) 44%, rgba(80, 115, 184, 0.1) 58%, rgba(16, 152, 173, 0.1) 72%, rgba(7, 179, 155, 0.1) 86%, rgba(109, 186, 130, 0.1) 100%);
      background: linear-gradient(90deg, rgba(247, 149, 51, 0.1) 0, rgba(243, 112, 85, 0.1) 15%, rgba(239, 78, 123, 0.1) 30%, rgba(161, 102, 171, 0.1) 44%, rgba(80, 115, 184, 0.1) 58%, rgba(16, 152, 173, 0.1) 72%, rgba(7, 179, 155, 0.1) 86%, rgba(109, 186, 130, 0.1) 100%);
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-position: center;
      height: 100vh;
    }
  </style>
  <!--customCss-->
</head>

<body>
  <div style="backgroudn-color:#aaa; z-index:-999; height:100vh; width:100%; position:absolute;opacity:0.5;"></div>
  <div class="snow-container"></div>
  <div id="top-div">
    &nbsp;
  </div>
  <!--NeedUpdateStart-->
  <div style='position:absolute;'>
    <font color='red'>
      <!--constStr@NeedUpdate-->
    </font>
  </div>
  <!--NeedUpdateEnd-->
  <h1 class="title" id="title">
    <a href="<!--base_path-->" class="text-muted">
      <!--Sitename-->
    </a>
  </h1>
  <div id="nowTime"></div>
  <div class="list-wrapper" id="more-disk-div">
    <div class="">
      <div class="list-header-container">
        <div class="container text-center rounded my-3 py-3">
          <div class="btn-group" role="group">
            <!--MultiDiskAreaStart-->
            <!--MultiDisksStart-->
            <a href="<!--MultiDisksUrl-->" class="btn btn-secondary" <!--MultiDisksNow-->>
              <!--MultiDisksName-->
            </a>
            <!--MultiDisksEnd-->
            <!--MultiDiskAreaEnd-->
            <!--LoginStart-->
            <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#exampleModal">
              <!--constStr@Login-->
            </button>
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                      <!--constStr@Login-->
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <form action="?admin" method="post">
                    <div class="modal-body">
                      <input class="form-control" id="login_input" name="password1" type="password"
                        placeholder="<!--constStr@InputPassword-->">
                    </div>
                    <div class="modal-footer">
                      <input class="btn btn-primary" type="submit" value="<!--constStr@Login-->" />
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <!--LoginEnd-->
            <!--AdminStart-->
            <div class="dropdown btn-group">
              <a class="btn btn-secondary dropdown-toggle" href="#" type="button" role="button" id="dropdownMenuLink"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <ion-icon name="construct"></ion-icon>
                <!--constStr@Operate-->
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <!--IsFolderStart-->
                <a class="dropdown-item" data-toggle="modal" data-target="#NewFileModal">
                  <ion-icon name="create"></ion-icon>
                  <!--constStr@Create-->
                </a>
                <a class="dropdown-item" data-toggle="modal" data-target="#exampleencrypt"
                  onclick="document.getElementById('encrypt_hidden').value=''">
                  <ion-icon name="lock-closed"></ion-icon>
                  <!--constStr@Encrypt-->
                </a>
                <a class="dropdown-item" href="?RefreshCache">
                  <ion-icon name="refresh"></ion-icon>
                  <!--constStr@RefreshCache-->
                </a>
                <!--IsFolderEnd-->
                <a class="dropdown-item" href="<!--IsPreview?-->setup">
                  <ion-icon name="settings"></ion-icon>
                  <!--constStr@Setup-->
                </a>
                <a class="dropdown-item" onclick="logout();">
                  <ion-icon name="log-out"></ion-icon>
                  <!--constStr@Logout-->
                </a>
              </div>
            </div>
            <!--AdminEnd-->
            <select class="btn btn-secondary" name="language"
              onchange="changelanguage(this.options[this.options.selectedIndex].value)">
              <!--SelectLanguageStart-->
              <option value="<!--SelectLanguageKey-->" <!--SelectLanguageSelected-->>
                <!--SelectLanguageValue-->
              </option>
              <!--SelectLanguageEnd-->
            </select>
          </div>
        </div>
      </div>
    </div>
    <!--ListStart-->
    <!--HeadomfStart-->
    <div class="container text-left rounded my-3 py-3 border" id="head-om-div">
      <div class="list-header-container">
        <div class="readme">
          <div class="customfile" id="head-om">
            <!--HeadomfContent-->
          </div>
        </div>
      </div>
    </div>
    <!--HeadomfEnd-->
    <div class="container text-left rounded my-3 py-3 border" id="head-om-div">
      <div class="list-header-container">
        <div class="readme">
          <p id="hitokoto">:D 获取中...</p>
        </div>
      </div>
    </div>

    <!--HeadmdStart-->
    <div class="container text-left rounded my-3 py-3 border" id="head-div">
      <div class="list-header-container">
        <div class="readme">
          <div class="markdown-body" id="head">
            <textarea id="head-md" style="display:none;"><!--HeadmdContent--></textarea>
          </div>
        </div>
      </div>
    </div>

    <!--HeadmdEnd-->

    <div class="container text-left rounded my-3 py-3 border" id="list-div">
      <div class="list-container">
        <div class="list-header-container alert alert-secondary">
          <ul class="nav nav-pills">
            <!--BackArrowStart-->
            <li class="nav-item">
              <a href="<!--BackArrowUrl-->" class="nav-item active">
                <ion-icon name="arrow-back"></ion-icon>
              </a>
            </li>
            <!--BackArrowEnd-->
            <li class="nav-item" id="nav-path">
              <!--Path-->
            </li>
          </ul>
        </div>

        <div class="list-body-container border">
          <!--EncryptedStart-->
          <div style="padding:20px">
            <center>
              <form action="" method="post">
                <input id="password1" name="password1" type="password" placeholder="<!--constStr@InputPassword-->">
                <input type="submit" value="<!--constStr@Submit-->">
              </form>
            </center>
          </div>
          <!--EncryptedEnd-->

          <!--GuestUploadStart-->
          <div id="upload_div" class="input-group p-3">
            <div id="upload_btns">
              <select class="form-control"
                onchange="document.getElementById('upload_file').webkitdirectory=this.value;">
                <option value="">
                  <!--constStr@UploadFile-->
                </option>
                <option value="1">
                  <!--constStr@UploadFolder-->
                </option>
              </select>
            </div>
            <div class="custom-file">
              <input onchange="showFileName()" type="file" class="custom-file-input" id="upload_file"
                aria-describedby="upload_submit" multiple="multiple" name="upload_filename">
              <label id="filename_label" class="custom-file-label" for="upload_file">
                <!--constStr@FileSelected-->
              </label>
            </div>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" onclick="preup();" type="button" id="upload_submit">
                <!--constStr@Upload-->
              </button>
            </div>
          </div>
          <div id="uploading_div" class="input-group p-3"></div>

          <script>
            function showFileName() {
              var file = document.getElementById("upload_file").files;
              //取得file集合

              var fileNameAll = "";
              for (var i = 0; i < file.length; i++) {
                fileNameAll += file[i].name + ";";
              }
              fileNameAll = fileNameAll.substr(0, fileNameAll.length - 1);

              $('#filename_label').html(fileNameAll);
            }
          </script>
          <!--GuestUploadEnd-->

          <!--IsFileStart-->
          <div style="margin: 12px 4px 4px; text-align: center">
            <div style="margin: 24px">
              <textarea id="url" title="url" rows="1" style="width: 100%; margin-top: 2px;"
                readonly><!--FileEncodeUrl--></textarea>
              <a href="<!--FileUrl-->">
                <ion-icon name="download" style="line-height: 16px;vertical-align: middle;"></ion-icon>&nbsp;
                <!--constStr@Download-->
              </a>
            </div>
            <div style="margin: 24px">
              <!--IsimgFileStart-->
              <img src="<!--FileDownUrl-->" alt="<!--FileName-->"
                onload="if (this.offsetWidth>document.getElementById('url').offsetWidth) this.style.width='100%';" />
              <!--IsimgFileEnd-->
              <!--IsvideoFileStart-->
              <div id="video-a0"></div>
              <!--IsvideoFileEnd-->
              <!--IsmusicFileStart-->
              <audio src="<!--FileDownUrl-->" controls="controls" style="width: 100%"></audio>
              <!--IsmusicFileEnd-->
              <!--IspdfFileStart-->
              <div id="pdf-d"></div>
              <!--IspdfFileEnd-->
              <!--IsofficeFileStart-->
              <iframe id="office-a" src="https://view.officeapps.live.com/op/view.aspx?src=<!--FileEncodeDownUrl-->"
                style="width: 100%;height: 800px" frameborder="0"></iframe>
              <!--IsofficeFileEnd-->
              <!--IstxtFileStart-->
              <div id="txt">
                <!--AdminStart-->
                <form id="txt-form" action="" method="POST">
                  <a onclick="document.getElementById('txt-a').readOnly='';document.getElementById('txt-save').style.display='';document.getElementById('txt-editbutton').style.display='none';document.getElementById('txt-cancelbutton').style.display='';"
                    id="txt-editbutton">
                    <ion-icon name="create"></ion-icon>
                    <!--constStr@ClicktoEdit-->
                  </a>
                  <a onclick="document.getElementById('txt-a').readOnly='readonly';document.getElementById('txt-save').style.display='none';document.getElementById('txt-editbutton').style.display='';document.getElementById('txt-cancelbutton').style.display='none';"
                    id="txt-cancelbutton" style="display:none">
                    <ion-icon name="close"></ion-icon>
                    <!--constStr@CancelEdit-->
                  </a>&nbsp;&nbsp;&nbsp;
                  <a id="txt-save" style="display:none">
                    <ion-icon name="save"></ion-icon>
                    <!--constStr@Save-->
                  </a>
                  <!--AdminEnd-->
                  <textarea id="txt-a" name="editfile" readonly style="width: 100%; margin-top: 2px;"
                    <!--AdminStart-->onchange="document.getElementById('txt-save').onclick=function(){document.getElementById('txt-form').submit();}"<!--AdminEnd--> ><!--TxtContent--></textarea>
                  <!--AdminStart-->
                </form>
                <!--AdminEnd-->
              </div>
              <!--IstxtFileEnd-->
              <!--IsOtherFileStart-->
              <span>
                <!--constStr@FileNotSupport-->
              </span>
              <!--IsOtherFileEnd-->
            </div>
          </div>
          <!--IsFileEnd-->


          <!--IsFolderStart-->
          <table class="table table-hover" id="list-table">
            <tr class="thead-dark" id="tr0">
              <th class="file">
                <a onclick="sortby('a');">
                  <!--constStr@File-->
                </a>
                <!--ShowThumbnailsStart-->
                &nbsp;&nbsp;&nbsp;
                <button class="btn btn-sm btn-secondary" onclick="showthumbnails(this);">
                  <!--constStr@ShowThumbnails-->
                </button>
                <!--ShowThumbnailsEnd-->
                &nbsp;
                <button class="btn btn-sm btn-secondary" onclick="CopyAllDownloadUrl('.download');">
                  <!--constStr@CopyAllDownloadUrl-->
                </button>
              </th>
              <th class="updated_at"><a onclick="sortby('time');">
                  <!--constStr@EditTime-->
                </a></th>
              <th class="size"><a onclick="sortby('size');">
                  <!--constStr@Size-->
                </a></th>
            </tr>
            <!-- Dirs -->
            <!--FolderListStart-->
            <tr data-to id="tr<!--filenum-->">
              <td class="file">
                <!--AdminStart-->
                <div class="dropdown d-inline">
                  <a class="btn btn-secondary dropdown-toggle" href="#" type="button" role="button"
                    id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <ion-icon name="construct"></ion-icon>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" data-toggle="modal" data-target="#exampleencrypt"
                      onclick="document.getElementById('encrypt_hidden').value='<!--FileEncodeReplaceName-->'">
                      <ion-icon name="lock-closed"></ion-icon>
                      <!--constStr@Encrypt-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#renameModal"
                      onclick="showdiv(event, 'rename',<!--filenum-->);">
                      <ion-icon name="create"></ion-icon>
                      <!--constStr@Rename-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#MoveModal"
                      onclick="showdiv(event, 'move',<!--filenum-->);">
                      <ion-icon name="move"></ion-icon>
                      <!--constStr@Move-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#CopyModal"
                      onclick="showdiv(event, 'copy',<!--filenum-->);">
                      <ion-icon name="copy"></ion-icon>
                      <!--constStr@Copy-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#DeleteModal"
                      onclick="showdiv(event, 'delete',<!--filenum-->);">
                      <ion-icon name="trash"></ion-icon>
                      <!--constStr@Delete-->
                    </a>
                  </div>
                </div>

                <!--AdminEnd-->
                <ion-icon name="folder"></ion-icon>
                <a id="file_a<!--filenum-->" name="filelist" href="<!--FileEncodeReplaceUrl-->/">
                  <!--FileEncodeReplaceName-->
                </a>
              </td>
              <td class="updated_at" id="folder_time<!--filenum-->">
                <!--lastModifiedDateTime-->
              </td>
              <td class="size" id="folder_size<!--filenum-->">
                <!--size-->
              </td>
            </tr>
            <!--FolderListEnd-->
            <!--FileListStart-->
            <tr data-to id="tr<!--filenum-->">
              <td class="file">
                <!--AdminStart-->
                <div class="dropdown d-inline">
                  <a class="btn btn-secondary dropdown-toggle" href="#" type="button" role="button"
                    id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <ion-icon name="construct"></ion-icon>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" data-toggle="modal" data-target="#renameModal"
                      onclick="showdiv(event, 'rename',<!--filenum-->);">
                      <ion-icon name="create"></ion-icon>
                      <!--constStr@Rename-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#MoveModal"
                      onclick="showdiv(event, 'move',<!--filenum-->);">
                      <ion-icon name="move"></ion-icon>
                      <!--constStr@Move-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#CopyModal"
                      onclick="showdiv(event, 'copy',<!--filenum-->);">
                      <ion-icon name="copy"></ion-icon>
                      <!--constStr@Copy-->
                    </a>
                    <a class="dropdown-item" data-toggle="modal" data-target="#DeleteModal"
                      onclick="showdiv(event, 'delete',<!--filenum-->);">
                      <ion-icon name="trash"></ion-icon>
                      <!--constStr@Delete-->
                    </a>
                  </div>
                </div>
                <!--AdminEnd-->
                <ion-icon name="<!--IconValue-->"></ion-icon>
                <a id="file_a<!--filenum-->" name="filelist" href="<!--FileEncodeReplaceUrl-->?preview" target=_blank>
                  <!--FileEncodeReplaceName-->
                </a>
                <a class="download" href="<!--FileEncodeReplaceUrl-->">
                  <ion-icon name="download"></ion-icon>
                </a>
              </td>
              <td class="updated_at" id="file_time<!--filenum-->">
                <!--lastModifiedDateTime-->
              </td>
              <td class="size" id="file_size<!--filenum-->">
                <!--size-->
              </td>
            </tr>
            <!--FileListEnd-->
          </table>
          <!--MorePageStart-->
          <form action="" method="POST" id="nextpageform">
            <input type="hidden" id="pagenum" name="pagenum" value="">
            <table width=100% border=0>
              <tr>
                <td width=60px align=center>
                  <!--PrePageStart-->
                  <a onclick="nextpage(<!--PrePageNum-->);">
                    <!--constStr@PrePage-->
                  </a>
                  <!--PrePageEnd-->
                </td>
                <td class="updated_at">
                  <!--MorePageListStart-->
                  <a onclick="nextpage(<!--PageNum-->);">
                    <!--PageNum-->
                  </a>
                  <!--MorePageListEnd-->
                  <!--MorePageListNowStart-->
                  <font color=red>
                    <!--PageNum-->
                  </font>
                  <!--MorePageListNowEnd-->
                </td>
                <td width=60px align=center>
                  <!--NextPageStart-->
                  <a onclick="nextpage(<!--NextPageNum-->);">
                    <!--constStr@NextPage-->
                  </a>
                  <!--NextPageEnd-->
                </td>
              </tr>
            </table>
          </form>
          <!--MorePageEnd-->
          <!--AdminStart-->





          <div id="upload_div" class="input-group p-3">
            <div id="upload_btns">
              <select class="form-control"
                onchange="document.getElementById('upload_file').webkitdirectory=this.value;">
                <option value="">
                  <!--constStr@UploadFile-->
                </option>
                <option value="1">
                  <!--constStr@UploadFolder-->
                </option>
              </select>
            </div>
            <div class="custom-file">
              <input onchange="showFileName()" type="file" class="custom-file-input" id="upload_file"
                aria-describedby="upload_submit" multiple="multiple" name="upload_filename">
              <label id="filename_label" class="custom-file-label" for="upload_file">
                <!--constStr@FileSelected-->
              </label>
            </div>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" onclick="preup();" type="button" id="upload_submit">
                <!--constStr@Upload-->
              </button>
            </div>
          </div>
          <div id="uploading_div" class="input-group p-3"></div>

          <script>
            function showFileName() {
              var file = document.getElementById("upload_file").files;
              //取得file集合

              var fileNameAll = "";
              for (var i = 0; i < file.length; i++) {
                fileNameAll += file[i].name + ";";
              }
              fileNameAll = fileNameAll.substr(0, fileNameAll.length - 1);

              $('#filename_label').html(fileNameAll);
            }
          </script>
          <!--AdminEnd-->
          <!--IsFolderEnd-->
          <!--ListEnd-->
        </div>
      </div>
    </div>
    <!--ReadmemdStart-->
    <div class="container text-left rounded my-3 py-3 border" id="readme-div">
      <div class="list-container">
        <div class="list-header-container">
          <div class="readme">
            <div class="markdown-body" id="readme">
              <textarea id="readme-md" style="display:none;"><!--ReadmemdContent--></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--ReadmemdEnd-->
    <!--FootomfStart-->
    <div class="container text-left rounded my-3 py-3 border" id="foot-om-div">
      <div class="list-container">
        <div class="list-header-container">
          <div class="readme">
            <div class="customfile" id="foot-om">
              <!--FootomfContent-->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--FootomfEnd-->
    <!--WalineStart-->
    <div class="container text-left rounded my-3 py-3 border" id="foot-om-div">
      <div class="list-container">
        <div class="list-header-container">
          <div class="readme">
            <div id="waline"></div>
          </div>
        </div>
      </div>
    </div>
    <!--WalineEnd-->


    <div id="mask" style="display:none;"></div>
    <!--AdminStart-->
    <!--IsFolderStart-->
    <div style="">
      <div id="rename_div" class="operatediv" style="">
        <div>
          <label id="rename_label" style="display:none"></label>
          <form id="rename_form" onsubmit="return submit_operate('rename');">
            <input id="rename_sid" name="rename_sid" type="hidden" value="">
            <input id="rename_hidden" name="rename_oldname" type="hidden" value="">


            <!-- RenameModal -->
            <script type="text/javascript">
              $(document).ready(function () {
                $("#myrename").click(function () {
                  $("#renameModal").modal('hide');
                  window.location.reload();
                });
              });
            </script>

            <div class="modal fade" id="renameModal" tabindex="-1" role="dialog" aria-labelledby="renameModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="renameModalLabel">
                      <!--constStr@Rename-->
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="input-group mb-3">
                      <input class="form-control" id="rename_input" name="rename_newname" type="text" value="">
                      <div class="input-group-append">
                        <input class="input-group-text btn btn-outline-secondary" id="myrename" name="operate_action"
                          type="submit" value="<!--constStr@Rename-->">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>


      <div class="modal fade operatediv_close" id="exampleencrypt" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">
                <!--constStr@Encrypt-->
              </h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div id="encrypt_div" class="operatediv">
              <div class="container text-center rounded my-3 py-3">
                <form id="encrypt_form" onsubmit="return submit_operate('encrypt');">
                  <input id="encrypt_sid" name="encrypt_sid" type="hidden" value="">
                  <input id="encrypt_hidden" name="encrypt_folder" type="hidden" value="">
                  <input class="form-control d-inline" id="encrypt_input" name="encrypt_newpass" type="text" value=""
                    placeholder="<!--constStr@InputPasswordUWant-->">
                  <!--EncryptBtnStart-->
                  <script type="text/javascript">
                    $(document).ready(function () {
                      $("#mymodal").click(function () {
                        $("#exampleencrypt").modal('hide');
                        window.location.reload();
                      });
                    });
                  </script>
                  <input class="btn btn-secondary input-group-append my-3 float-right" name="operate_action" href=""
                    type="submit" value="<!--constStr@Encrypt-->" id="mymodal">
                  <!--EncryptBtnEnd-->

                  <!--EncryptAlertStart--><br><label>
                    <!--constStr@SetpassfileBfEncrypt-->
                  </label>
                  <!--EncryptAlertEnd-->

                </form>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="delete_div" class="operatediv">

        <form id="delete_form" method="get" onsubmit="return submit_operate('delete');">
          <div class="modal fade" id="DeleteModal" tabindex="-1" role="dialog" aria-labelledby="DeleteModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="DeleteModalLabel">
                    <!--constStr@Delete-->
                  </h5>
                  <button type="button" type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <label id="delete_label"></label>
                  <input id="delete_sid" name="delete_sid" type="hidden" value="">
                  <input id="delete_hidden" name="delete_name" type="hidden" value="">
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">
                    <!--constStr@Close-->
                  </button>
                  <input class="btn btn-danger" name="operate_action" type="submit" value="<!--constStr@Delete-->"
                    onclick="$('#DeleteModal').modal('hide');
      window.location.reload();">
                </div>
              </div>
            </div>
          </div>
        </form>
        <div id="copy_div" class="operatediv">
          <form id="copy_form" method="get" onsubmit="return submit_operate('copy');">
            <div class="modal fade" id="CopyModal" tabindex="-1" role="dialog" aria-labelledby="CopyModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="CopyModalLabel">
                      <!--constStr@Copy-->
                    </h5>
                    <button type="button" type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <label id="copy_label"></label>
                    <input id="copy_sid" name="copy_sid" type="hidden" value="">
                    <input id="copy_hidden" name="copy_name" type="hidden" value="">
                    <input id="copy_input" name="copy_input" type="hidden" value="">
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                      <!--constStr@Close-->
                    </button>
                    <input class="btn btn-primary" name="operate_action" type="submit" value="<!--constStr@Copy-->"
                      onclick="$('#CopyModal').modal('hide');
      window.location.reload();">
                  </div>
                </div>
              </div>
            </div>
          </form>

        </div>
        <div id="move_div" class="operatediv">

          <form id="move_form" method="get" onsubmit="return submit_operate('move');">
            <div class="modal fade" id="MoveModal" tabindex="-1" role="dialog" aria-labelledby="MoveModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="MoveModalLabel">
                      <!--constStr@Move-->
                    </h5>
                    <button type="button" type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="input-group mb-3">
                      <input id="move_sid" name="move_sid" type="hidden" value="">
                      <input id="move_hidden" name="move_name" type="hidden" value="">
                      <select id="move_input" name="move_folder" class="form-control">
                        <!--MoveRootStart-->
                        <option value="/../">
                          <!--constStr@ParentDir-->
                        </option>
                        <!--MoveRootEnd-->
                        <!--MoveDirsStart-->
                        <option value="<!--MoveDirsValue-->">
                          <!--MoveDirsValue-->
                        </option>
                        <!--MoveDirsEnd-->
                      </select>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                      <!--constStr@Close-->
                    </button>
                    <input class="btn btn-primary" name="operate_action" type="submit" value="<!--constStr@Move-->"
                      onclick="$('#MoveModal').modal('hide');
              window.location.reload();">
                  </div>
                </div>
              </div>
            </div>
          </form>
          <script>
            function saveReport() {
              $("#showDataForm").ajaxSubmit(function (message) {
              });
            }
          </script>


          <form id="create_form" method="get" onsubmit="return submit_operate('create');">
            <div class="modal fade" id="NewFileModal" tabindex="-1" role="dialog" aria-labelledby="CreateModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="CreateModalLabel">
                      <!--constStr@Create-->
                      <!--constStr@File-->
                    </h5>
                    <button type="button" type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="input-group mb-3">
                      <input type="text" id="create_input" name="create_name" class="form-control"
                        placeholder="<!--constStr@Create--><!--constStr@Folder-->">
                      <div class="input-group-prepend">
                        <input type="hidden" id="create_type_folder" name="create_type" value="folder">
                        <input id="create_sid" name="create_sid" type="hidden" value="">
                        <input id="create_hidden" type="hidden" value="">
                        <div type="button" id="create_type_folder_button" class="btn btn-secondary"
                          data-toggle="collapse" data-target="#collapseExample" onclick="if(document.getElementById('create_input').placeholder == '<!--constStr@Create--><!--constStr@Folder-->'){
                document.getElementById('create_input').placeholder='<!--constStr@Create--><!--constStr@File-->';document.getElementById('create_type_folder').value='file';
                }else {
                  document.getElementById('create_input').placeholder='<!--constStr@Create--><!--constStr@Folder-->';document.getElementById('create_type_folder').value='folder';
                  }">
                          <!--constStr@File-->/
                          <!--constStr@Folder-->
                        </div>
                        <!--$('#filetext').data('toggle') 获取 data-toggle 的值-->

                      </div>
                    </div>
                    <div class="input-group mb-3">

                      <div class="collapse w-100" id="collapseExample">
                        <textarea name="create_text" id="filetextarea" class="form-control" aria-label="With textarea"
                          placeholder="<!--constStr@File--><!--constStr@Content-->"></textarea>
                      </div>

                    </div>

                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                      <!--constStr@Close-->
                    </button>
                    <input class="btn btn-primary" name="operate_action" type="submit" value="<!--constStr@Create-->"
                      onclick="$('#NewFileModal').modal('hide');
              window.location.reload();">
                  </div>
                </div>
              </div>
            </div>
          </form>
          <script>
            function saveReport() {

              $("#showDataForm").ajaxSubmit(function (message) {
              });
              return false;
            }
          </script>

        </div>
        <!--IsFolderEnd-->
        <!--AdminEnd-->
        <!--LoginStart-->

        <!--LoginEnd-->
        <p class="text-center text-muted"><a href="https://github.com/qkqpttgf/OneManager-php"
            class="text-muted">OneManager</a> By 逸笙 Theme By Nchyn</p>
        <p class="text-center" style="color: rgba(247,247,249,0);">
          <!--FootStr-->
        </p>

</body>

<!--ListStart-->
<!--MdRequireStart-->
<link rel="stylesheet" href="//unpkg.zhimg.com/github-markdown-css@3.0.1/github-markdown.css">
<script type="text/javascript" src="//unpkg.zhimg.com/marked@0.6.2/marked.min.js"></script>
<!--MdRequireEnd-->
<!--GuestUploadStart-->
<script type="text/javascript" src="//cdn.bootcss.com/spark-md5/3.0.0/spark-md5.min.js"></script>
<!--GuestUploadEnd-->
<!--AliyundriveUploadJsStart-->
<script src="//cdn.bootcdn.net/ajax/libs/js-sha1/0.6.0/sha1.min.js"></script>
<!--AliyundriveUploadJsEnd-->
<!--IsFileStart-->
<!--IspdfFileStart-->
<script src="//cdn.bootcss.com/pdf.js/2.3.200/pdf.min.js"></script>
<!--IspdfFileEnd-->
<!--IsFileEnd-->
<!--ListEnd-->
<script type="text/javascript">
  function changelanguage(str) {
    if (str == 'Language') str = '';
    var expd = new Date();
    expd.setTime(expd.getTime() + (2 * 60 * 60 * 1000));
    var expires = "expires=" + expd.toGMTString();
    document.cookie = 'language=' + str + '; path=/; ' + expires;
    location.href = location.href;
  }
< !--ListStart-->
  var root = '<!--base_disk_path-->';
  function path_format(path) {
    path = '/' + path + '/';
    while (path.indexOf('//') !== -1) {
      path = path.replace('//', '/')
    }
    return path
  }
  document.querySelectorAll('#nav-path').forEach(function (e) {
    var path = e.innerText;
    if (path.substr(path.length - 1) == '/') path = path.substr(0, path.length - 1);
    var paths = path.split('/');
    e.innerHTML = '/ ';
    if (paths <= 2) return;
    for (var i = 1; i < paths.length - 1; i++) {
      var to = path_format(root + paths.slice(0, i + 1).join('/'));
      e.innerHTML += '<a href="' + to + '">' + paths[i] + '</a> / '
    }
    e.innerHTML += paths[paths.length - 1];
    e.innerHTML = e.innerHTML.replace(/\s\/\s$/, '')
  });
< !--IsFileStart-->
  var $url = document.getElementById('url');
  if ($url) {
    $url.innerHTML = location.protocol + '//' + location.host + $url.innerHTML;
    $url.style.height = $url.scrollHeight + 'px';
  }
< !--IsofficeFileStart-->
  var $officearea = document.getElementById('office-a');
  if ($officearea) {
    $officearea.style.height = window.innerHeight + 'px';
  }
< !--IsofficeFileEnd-->
< !--IstxtFileStart-->
  var $textarea = document.getElementById('txt-a');
  if ($textarea) {
    $textarea.style.height = $textarea.scrollHeight + 'px';
  }
< !--IstxtFileEnd-->
< !--IsvideoFileStart-->
    function loadResources(type, src, callback) {
      let script = document.createElement(type);
      let loaded = false;
      if (typeof callback === 'function') {
        script.onload = script.onreadystatechange = () => {
          if (!loaded && (!script.readyState || /loaded|complete/.test(script.readyState))) {
            script.onload = script.onreadystatechange = null;
            loaded = true;
            callback();
          }
        }
      }
      if (type === 'link') {
        script.href = src;
        script.rel = 'stylesheet';
      } else {
        script.src = src;
      }
      document.getElementsByTagName('head')[0].appendChild(script);
    }
  function addVideos(videos) {
    let host = 'https://s0.pstatp.com/cdn/expire-1-M';
    let unloadedResourceCount = 4;
    let callback = (() => {
      return () => {
        if (!--unloadedResourceCount) {
          createDplayers(videos);
        }
      };
    })(unloadedResourceCount, videos);
    loadResources(
      'link',
      host + '/dplayer/1.25.0/DPlayer.min.css',
      callback
    );
    loadResources(
      'script',
      host + '/dplayer/1.25.0/DPlayer.min.js',
      callback
    );
    loadResources(
      'script',
      host + '/hls.js/0.12.4/hls.light.min.js',
      callback
    );
    loadResources(
      'script',
      host + '/flv.js/1.5.0/flv.min.js',
      callback
    );
  }
  function createDplayers(videos) {
    for (i = 0; i < videos.length; i++) {
      console.log(videos[i]);
      new DPlayer({
        container: document.getElementById('video-a' + i),
        screenshot: true,
        video: {
          url: videos[i]
        }
      });
    }
  }
  addVideos(['<!--FileEncodeUrl-->']);
< !--IsvideoFileEnd-->
< !--IspdfFileStart-->
    pdfjsLib.GlobalWorkerOptions.workerSrc = '//cdn.bootcss.com/pdf.js/2.3.200/pdf.worker.min.js';
  var loadingTask = pdfjsLib.getDocument({
    url: '<!--FileDownUrl-->',
    cMapUrl: "//cdn.jsdelivr.net/npm/pdfjs-dist@2.2.228/cmaps/",
    cMapPacked: true,
    rangeChunkSize: 65535
  });
  loadingTask.promise.then(function (pdf) {
    var pagenum = pdf.numPages;
    var pdfContainer = document.getElementById('pdf-d');
    pdfContainer.innerHTML = '';
    for (var i = 1; i <= pagenum; i++) {
      var canvasNew = document.createElement('canvas');
      canvasNew.id = 'pdf-c' + i;
      pdfContainer.appendChild(canvasNew);
      renderpage(pdf, i);
    }
  });
  function renderpage(pdf, i) {
    pdf.getPage(i).then(function (page) {
      var scale = 1.5;
      var viewport = page.getViewport({ scale: scale, });
      var canvas = document.getElementById('pdf-c' + i);
      var context = canvas.getContext("2d");
      canvas.height = viewport.height;
      canvas.width = viewport.width;
      var renderContext = {
        canvasContext: context,
        viewport: viewport,
      };
      page.render(renderContext);
    });
  }
< !--IspdfFileEnd-->
< !--IsFileEnd-->
< !--IsFolderStart-->
< !--HeadmdStart-->
  var $head = document.getElementById('head');
  if ($head) {
    //document.getElementById('head-div').parentNode.insertBefore(document.getElementById('head-div'),document.getElementById('list-div'));
    $head.innerHTML = marked(document.getElementById('head-md').innerText);
  }
< !--HeadmdEnd-->
< !--ReadmemdStart-->
  var $readme = document.getElementById('readme');
  if ($readme) {
    $readme.innerHTML = marked(document.getElementById('readme-md').innerText);
  }
< !--ReadmemdEnd-->
< !--ShowThumbnailsStart-->
    function showthumbnails(obj) {
      images = [< !--ImgExts-->];
      var files = document.getElementsByName('filelist');
      for ($i = 0; $i < files.length; $i++) {
        str = files[$i].innerText;
        if (str.substr(-1) == ' ') str = str.substr(0, str.length - 1);
        if (!str) continue;
        strarry = str.split('.');
        ext = strarry[strarry.length - 1].toLowerCase();
        if (images.indexOf(ext) > -1) {
          var url = files[$i].href;
          url = url.substr(0, url.length - 8);
          if (document.getElementById('originalpic').checked == true) {
            files[$i].parentNode.parentNode.innerHTML = '<td colspan="3"><img src="' + url + '" alt="' + str + '" onload="if (this.offsetWidth>document.getElementById(\'list-div\').offsetWidth) this.style.width=\'100%\';"></td>';
            $i--;
          } else {
            url += '?thumbnails';
            get_thumbnails_url(url, str, files[$i]);
          }
        }
      }
      obj.disabled = 'disabled';
    }
  function get_thumbnails_url(url, name, filea) {
    var xhr = new XMLHttpRequest();
    xhr.open("GET", url, true);
    xhr.send('');
    xhr.onload = function (e) {
      if (xhr.status == 200) {
        if (xhr.responseText != '') filea.innerHTML = '<img src="' + xhr.responseText + '" alt="' + name + '">';
      } else console.log(xhr.status + '\n' + xhr.responseText);
    }
  }
< !--ShowThumbnailsEnd-->
< !--MorePageStart-->
    function nextpage(num) {
      document.getElementById('pagenum').value = num;
      document.getElementById('nextpageform').submit();
    }
    < !--MorePageEnd-->
< !--IsNotHiddenStart-->
  var sort = 0;
  function sortby(string) {
    if (string == 'a') if (sort != 0) {
      for (i = 1; i <= < !--maxfilenum-->; i++) document.getElementById('tr' + i).parentNode.insertBefore(document.getElementById('tr' + i), document.getElementById('tr' + (i - 1)).nextSibling);
      sort = 0;
      return;
    } else return;
    sort1 = sort;
    sortby('a');
    sort = sort1;
    var a = [];
    for (i = 1; i <= < !--maxfilenum-->; i++) {
      a[i] = i;
      if (!!document.getElementById('folder_' + string + i)) {
        var td1 = document.getElementById('folder_' + string + i);
        for (j = 1; j < i; j++) {
          if (!!document.getElementById('folder_' + string + a[j])) {
            var c = false;
            if (string == 'time') if (sort == -1) {
              c = (td1.innerText < document.getElementById('folder_' + string + a[j]).innerText);
            } else {
              c = (td1.innerText > document.getElementById('folder_' + string + a[j]).innerText);
            }
            if (string == 'size') if (sort == 2) {
              c = (size_reformat(td1.innerText) < size_reformat(document.getElementById('folder_' + string + a[j]).innerText));
            } else {
              c = (size_reformat(td1.innerText) > size_reformat(document.getElementById('folder_' + string + a[j]).innerText));
            }
            if (c) {
              document.getElementById('tr' + i).parentNode.insertBefore(document.getElementById('tr' + i), document.getElementById('tr' + a[j]));
              for (k = i; k > j; k--) {
                a[k] = a[k - 1];
              }
              a[j] = i;
              break;
            }
          }
        }
      }
      if (!!document.getElementById('file_' + string + i)) {
        var td1 = document.getElementById('file_' + string + i);
        for (j = 1; j < i; j++) {
          if (!!document.getElementById('file_' + string + a[j])) {
            var c = false;
            if (string == 'time') if (sort == -1) {
              c = (td1.innerText < document.getElementById('file_' + string + a[j]).innerText);
            } else {
              c = (td1.innerText > document.getElementById('file_' + string + a[j]).innerText);
            }
            if (string == 'size') if (sort == 2) {
              c = (size_reformat(td1.innerText) < size_reformat(document.getElementById('file_' + string + a[j]).innerText));
            } else {
              c = (size_reformat(td1.innerText) > size_reformat(document.getElementById('file_' + string + a[j]).innerText));
            }
            if (c) {
              document.getElementById('tr' + i).parentNode.insertBefore(document.getElementById('tr' + i), document.getElementById('tr' + a[j]));
              for (k = i; k > j; k--) {
                a[k] = a[k - 1];
              }
              a[j] = i;
              break;
            }
          }
        }
      }
    }
    if (string == 'time') if (sort == -1) {
      sort = 1;
    } else {
      sort = -1;
    }
    if (string == 'size') if (sort == 2) {
      sort = -2;
    } else {
      sort = 2;
    }
  }
  function size_reformat(str) {
    if (str.substr(-1) == ' ') str = str.substr(0, str.length - 1);
    if (str.substr(-2) == 'GB') num = str.substr(0, str.length - 3) * 1024 * 1024 * 1024;
    if (str.substr(-2) == 'MB') num = str.substr(0, str.length - 3) * 1024 * 1024;
    if (str.substr(-2) == 'KB') num = str.substr(0, str.length - 3) * 1024;
    if (str.substr(-2) == ' B') num = str.substr(0, str.length - 2);
    return num;
  }
< !--IsNotHiddenEnd-->
< !--IsFolderEnd-->
< !--WriteTimezoneStart-->
  var nowtime = new Date();
  var timezone = 0 - nowtime.getTimezoneOffset() / 60;
  var expd = new Date();
  expd.setTime(expd.getTime() + (2 * 60 * 60 * 1000));
  var expires = "expires=" + expd.toGMTString();
  document.cookie = "timezone=" + timezone + "; path=/; " + expires;
  if (timezone !=< !--timezone-->) {
    alert('Your timezone is ' + timezone + ', reload local timezone.');
    location.href = location.href;
  }
< !--WriteTimezoneEnd-->
    function CopyAllDownloadUrl(str) {
      var tmptextarea = document.createElement('textarea');
      document.body.appendChild(tmptextarea);
      tmptextarea.setAttribute('style', 'position:absolute;left:-100px;width:0px;height:0px;');
      document.querySelectorAll(str).forEach(function (e) {
        tmptextarea.innerHTML += e.href + "\r\n";
      });
      tmptextarea.select();
      tmptextarea.setSelectionRange(0, tmptextarea.value.length);
      document.execCommand("copy");
      alert(tmptextarea.innerHTML + "<!--constStr@Success-->");
    }
    < !--UploadJsStart-->
      function size_format(num) {
        if (num > 1024) {
          num = num / 1024;
        } else {
          return num.toFixed(2) + ' B';
        }
        if (num > 1024) {
          num = num / 1024;
        } else {
          return num.toFixed(2) + ' KB';
        }
        if (num > 1024) {
          num = num / 1024;
        } else {
          return num.toFixed(2) + ' MB';
        }
        return num.toFixed(2) + ' GB';
      }
  function uploadbuttonhide() {
    document.getElementById('upload_btns').style.display = 'none';
    /*document.getElementById('upload_submit').disabled='disabled';
    document.getElementById('upload_file').disabled='disabled';
    document.getElementById('upload_submit').style.display='none';
    document.getElementById('upload_file').style.display='none';*/
  }
  function uploadbuttonshow() {
    document.getElementById('upload_btns').style.display = '';
    /*document.getElementById('upload_file').disabled='';
    document.getElementById('upload_submit').disabled='';
    document.getElementById('upload_submit').style.display='';
    document.getElementById('upload_file').style.display='';*/
  }
< !--UploadJsEnd-->
< !--OnedriveUploadJsStart-->
    function preup() {
      uploadbuttonhide();
      var files = document.getElementById('upload_file').files;
      if (files.length < 1) {
        uploadbuttonshow();
        return;
      };
      var table1 = document.createElement('table');
      document.getElementById('upload_div').appendChild(table1);
      table1.setAttribute('class', 'list-table');
      var timea = new Date().getTime();
      var i = 0;
      getuplink(i);
      function getuplink(i, r = 0) {
        var file = files[i];
        var td1;
        var td2;
        if (r == 0) {
          var tr1 = document.createElement('tr');
          table1.appendChild(tr1);
          tr1.setAttribute('data-to', 1);
          td1 = document.createElement('td');
          tr1.appendChild(td1);
          td1.setAttribute('style', 'width:30%;word-break:break-word;');
          td1.setAttribute('id', 'upfile_td1_' + timea + '_' + i);
          td1.innerHTML = (file.webkitRelativePath || file.name) + '<br>' + size_format(file.size);
          td2 = document.createElement('td');
          tr1.appendChild(td2);
          td2.setAttribute('id', 'upfile_td2_' + timea + '_' + i);
        }
        var tdnum = timea + '_' + i;
        td1 = document.getElementById('upfile_td1_' + tdnum);
        td2 = document.getElementById('upfile_td2_' + tdnum);
        if (file.size > 100 * 1024 * 1024 * 1024) {
          td2.innerHTML = '<font color="red"><!--constStr@UpFileTooLarge--></font>';
          uploadbuttonshow();
          return;
        }
        var upbigfilename = encodeURIComponent((file.webkitRelativePath || file.name));
        var filemd5 = '';
< !--GuestStart-->
          function getext(str) {
            strarry = str.split('.');
            if (strarry.length == 1) return '';
            ext = strarry[strarry.length - 1].toLowerCase();
            var reg = new RegExp(".", "g");
            var a = str.replace(reg, "");
            if (a == ext) ext = "";
            else ext = "." + ext;
            return ext;
          }
        var ext = getext(file.webkitRelativePath || file.name);
        var spark = new SparkMD5.ArrayBuffer();
        var reader = new FileReader();
        var chunksize = 10 * 1024 * 1024;
        var asize = 0;
        function readblob(start) {
          var end = start + chunksize;
          var blob = file.slice(start, end);
          reader.readAsArrayBuffer(blob);
        }
        readblob(asize);

        reader.onload = function (e) {
          td2.innerHTML = '<!--constStr@Calculate--> md5: ' + (asize * 100 / file.size).toFixed(2) + '%';
          var binary = this.result;
          spark.append(binary);
          asize += chunksize;
          if (asize < file.size) {
            readblob(asize);
          } else {
            filemd5 = spark.end();
            td2.innerHTML = 'md5: ' + filemd5;
            upbigfilename = filemd5 + ext;
< !--GuestEnd-->
              td2.innerHTML='<!--constStr@GetUploadLink--> ...';
            var xhr1 = new XMLHttpRequest();
            xhr1.open("POST", '?action=upbigfile');
            xhr1.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
            xhr1.setRequestHeader('x-requested-with', 'XMLHttpRequest');
            xhr1.onprogress = function (e) {
              td2.innerHTML += '.';
            }
            xhr1.onload = function (e) {
              //console.log(xhr1.status+xhr1.responseText);
              td2.innerHTML = '<font color="red">' + xhr1.responseText + '</font>';
              if (xhr1.status == 409) {
                // td2.innerHTML='nameAlreadyExists';
                var html = JSON.parse(xhr1.responseText);
                td2.innerHTML = html['error']['code'] + ': ' + html['error']['message'];
< !--GuestStart-->
                  td2.innerHTML='md5: ' + filemd5;
< !--GuestEnd-->
                  td1.innerHTML='<div style="color:green"><a href="<!--base_disk_path--><!--Path-->' + (file.webkitRelativePath || file.name) + '?preview" id="upfile_a_' + tdnum + '" target="_blank">' + td1.innerHTML + '</a><br><a href="<!--base_disk_path--><!--Path-->' + (file.webkitRelativePath || file.name) + '" id="upfile_a1_' + tdnum + '"></a><!--constStr@UploadComplete--><button onclick="CopyAllDownloadUrl(\'#upfile_a1_' + tdnum + '\');" id="upfile_cpbt_' + tdnum + '" <!--AdminStart--> style="display:none"<!--AdminEnd--> ><!--constStr@CopyUrl--></button></div>';
              }
              if (xhr1.status == 200) {
                if (xhr1.responseText == '') {
                  getuplink(i, 1);
                  return;
                }
                var html = JSON.parse(xhr1.responseText);
                if (!html['uploadUrl']) {
                  td2.innerHTML = '<font color="red">' + xhr1.responseText + '</font><br>';
                } else {
                  td2.innerHTML = '<!--constStr@UploadStart--> ...';
                  binupfile(file, html['uploadUrl'], timea + '_' + i, upbigfilename);
                }
              }
              if (i < files.length - 1) {
                i++;
                getuplink(i);
              }
            }
            xhr1.send('upbigfilename=' + encodeURIComponent(upbigfilename) + '&filesize=' + file.size + '&filelastModified=' + file.lastModified + '&filemd5=' + filemd5);
< !--GuestStart-->
          }
        }
          < !--GuestEnd-->
      }
      uploadbuttonshow();
    }

  function binupfile(file, url, tdnum, filename) {
    var label = document.getElementById('upfile_td2_' + tdnum);
    var reader = new FileReader();
    var StartStr = '';
    var MiddleStr = '';
    var StartTime;
    var EndTime;
    var newstartsize = 0;
    if (!!file) {
      var asize = 0;
      var totalsize = file.size;
      var xhr2 = new XMLHttpRequest();
      xhr2.open("GET", url);
      //xhr2.setRequestHeader('x-requested-with','XMLHttpRequest');
      xhr2.send(null);
      xhr2.onload = function (e) {
        if (xhr2.status == 200) {
          var html = JSON.parse(xhr2.responseText);
          var a = html['nextExpectedRanges'][0];
          newstartsize = Number(a.slice(0, a.indexOf("-")));
          StartTime = new Date();
          asize = newstartsize;
          if (newstartsize == 0) {
            StartStr = '<!--constStr@UploadStartAt-->:' + StartTime.toLocaleString() + '<br>';
          } else {
            StartStr = '<!--constStr@LastUpload-->' + size_format(newstartsize) + '<br><!--constStr@ThisTime--><!--constStr@UploadStartAt-->:' + StartTime.toLocaleString() + '<br>';
          }
          var chunksize = 5 * 1024 * 1024; // chunk size, max 60M. 每小块上传大小，最大60M，微软建议10M
          if (totalsize > 200 * 1024 * 1024) chunksize = 10 * 1024 * 1024;
          function readblob(start) {
            var end = start + chunksize;
            var blob = file.slice(start, end);
            reader.readAsArrayBuffer(blob);
          }
          readblob(asize);

          reader.onload = function (e) {
            var binary = this.result;
            var xhr = new XMLHttpRequest();
            xhr.open("PUT", url, true);
            //xhr.setRequestHeader('x-requested-with','XMLHttpRequest');
            bsize = asize + e.loaded - 1;
            xhr.setRequestHeader('Content-Range', 'bytes ' + asize + '-' + bsize + '/' + totalsize);
            xhr.upload.onprogress = function (e) {
              if (e.lengthComputable) {
                var tmptime = new Date();
                var tmpspeed = e.loaded * 1000 / (tmptime.getTime() - C_starttime.getTime());
                var remaintime = (totalsize - asize - e.loaded) / tmpspeed;
                label.innerHTML = StartStr + '<!--constStr@Upload--> ' + size_format(asize + e.loaded) + ' / ' + size_format(totalsize) + ' = ' + ((asize + e.loaded) * 100 / totalsize).toFixed(2) + '% <!--constStr@AverageSpeed-->:' + size_format((asize + e.loaded - newstartsize) * 1000 / (tmptime.getTime() - StartTime.getTime())) + '/s<br><!--constStr@CurrentSpeed--> ' + size_format(tmpspeed) + '/s <!--constStr@Expect--> ' + remaintime.toFixed(1) + 's';
              }
            }
            var C_starttime = new Date();
            xhr.onload = function (e) {
              if (xhr.status < 500) {
                var response = JSON.parse(xhr.responseText);
                if (response['size'] > 0) {
                  // contain size, upload finish. 有size说明是最终返回，上传结束
                  if (totalsize > 10 * 1024 * 1024) {
                    var xhr3 = new XMLHttpRequest();
                    xhr3.open("GET", '?action=del_upload_cache&filelastModified=' + file.lastModified + '&filesize=' + file.size + '&filename=' + filename);
                    xhr3.setRequestHeader('x-requested-with', 'XMLHttpRequest');
                    xhr3.send(null);
                    xhr3.onload = function (e) {
                      console.log(xhr3.responseText + ',' + xhr3.status);
                    }
                  }
                  EndTime = new Date();
                  MiddleStr = '<!--constStr@EndAt-->:' + EndTime.toLocaleString() + '<br>';
                  if (newstartsize == 0) {
                    MiddleStr += '<!--constStr@AverageSpeed-->:' + size_format(totalsize * 1000 / (EndTime.getTime() - StartTime.getTime())) + '/s<br>';
                  } else {
                    MiddleStr += '<!--constStr@ThisTime--><!--constStr@AverageSpeed-->:' + size_format((totalsize - newstartsize) * 1000 / (EndTime.getTime() - StartTime.getTime())) + '/s<br>';
                  }
                  while (filename.indexOf('%2F') > 0) filename = filename.replace('%2F', '/');
                  document.getElementById('upfile_td1_' + tdnum).innerHTML = '<div style="color:green"><a href="<!--base_disk_path--><!--Path-->' + filename + '?preview" id="upfile_a_' + tdnum + '" target="_blank">' + document.getElementById('upfile_td1_' + tdnum).innerHTML + '</a><br><a href="<!--base_disk_path--><!--Path-->' + filename + '" id="upfile_a1_' + tdnum + '"></a><!--constStr@UploadComplete--><button onclick="CopyAllDownloadUrl(\'#upfile_a1_' + tdnum + '\');" id="upfile_cpbt_' + tdnum + '" <!--AdminStart--> style="display:none"<!--AdminEnd--> ><!--constStr@CopyUrl--></button></div>';
                  label.innerHTML = StartStr + MiddleStr;
                  label.style.color = 'green';
                              // uploadbuttonshow();
< !--AdminStart-->
                    response.name=file.webkitRelativePath || response.name;
                  addelement(response);
< !--AdminEnd-->
                          } else {
                  if (!response['nextExpectedRanges']) {
                    label.innerHTML = '<font color="red">' + xhr.responseText + '</font><br>';
                  } else {
                    var a = response['nextExpectedRanges'][0];
                    asize = Number(a.slice(0, a.indexOf("-")));
                    readblob(asize);
                  }
                }
              } else readblob(asize);
            }
            xhr.send(binary);
          }
        } else {
          if (window.location.pathname.indexOf('%23') > 0 || filename.indexOf('%23') > 0) {
            label.innerHTML = '<font color="red"><!--constStr@UploadFail23--></font>';
          } else {
            label.innerHTML = '<font color="red">' + xhr2.responseText + '</font>';
          }
          // uploadbuttonshow();
        }
      }
    }
  }
< !--OnedriveUploadJsEnd-->
< !--AliyundriveUploadJsStart-->
    function preup() {
      uploadbuttonhide();
      var files = document.getElementById('upload_file').files;
      if (files.length < 1) {
        uploadbuttonshow();
        return;
      };
      var table1 = document.createElement('table');
      document.getElementById('upload_div').appendChild(table1);
      table1.setAttribute('class', 'list-table');
      var timea = new Date().getTime();
      var i = 0;
      getuplink(i);
      function getuplink(i, r = 0) {
        var file = files[i];
        var td1;
        var td2;
        if (r == 0) {
          var tr1 = document.createElement('tr');
          table1.appendChild(tr1);
          tr1.setAttribute('data-to', 1);
          td1 = document.createElement('td');
          tr1.appendChild(td1);
          td1.setAttribute('style', 'width:30%;word-break:break-word;');
          td1.setAttribute('id', 'upfile_td1_' + timea + '_' + i);
          td1.innerHTML = (file.webkitRelativePath || file.name) + '<br>' + size_format(file.size);
          td2 = document.createElement('td');
          tr1.appendChild(td2);
          td2.setAttribute('id', 'upfile_td2_' + timea + '_' + i);
        }
        var tdnum = timea + '_' + i;
        td1 = document.getElementById('upfile_td1_' + tdnum);
        td2 = document.getElementById('upfile_td2_' + tdnum);
        var chunksize = 10 * 1024 * 1024; // 分块大小
        //var chunksize=100*1024; // 测试小块
        /*if (file.size>100*1024*1024*1024) {
            td2.innerHTML='<font color="red"><!--constStr@UpFileTooLarge--></font>';
            uploadbuttonshow();
            return;
        }*/
        var upbigfilename = encodeURIComponent((file.webkitRelativePath || file.name));
        var reader = new FileReader();
        reader.onprogress = function (e) {
          td2.innerText = '计算SHA1... ' + (e.loaded * 100 / file.size).toFixed(2) + " %";
        }
        reader.onload = function (e) {
          var filesha1 = sha1(this.result);
< !--GuestStart-->
            function getext(str) {
              let p = str.lastIndexOf('.');
              if (p === -1) return '';
              if (p === 0) return '';
              return str.substr(p);
            }
          var ext = getext(file.webkitRelativePath || file.name);
          upbigfilename = filesha1 + ext;
< !--GuestEnd-->
              while (upbigfilename.indexOf('%2F') > 0) upbigfilename = upbigfilename.replace('%2F', '/');
          td2.innerHTML = '<!--constStr@GetUploadLink--> ...';
          var html = JSON.parse(localStorage.getItem(filesha1));
          //console.log(html);
          if (html !== null && ('part_info_list' in html)) {
            td2.innerHTML = '<!--constStr@UploadStart--> ...';
            binupfile(file, html, timea + '_' + i, upbigfilename, filesha1, chunksize);
          } else {
            var xhr1 = new XMLHttpRequest();
            xhr1.open("POST", '?action=upbigfile');
            xhr1.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
            xhr1.setRequestHeader('x-requested-with', 'XMLHttpRequest');
            xhr1.onload = function (e) {
              //console.log(xhr1.status+xhr1.responseText);
              td2.innerHTML = '<font color="red">' + xhr1.responseText + '</font>';
              if (xhr1.status == 201) {
                if (xhr1.responseText == '') {
                  getuplink(i, 1);
                  return;
                }
                var html = JSON.parse(xhr1.responseText);
                //console.log(html);
                if (!html['part_info_list']) {
                  if (html.name != '') {
                    if (html.exist == true) td2.innerHTML = html.name + ' 文件名已有';
                    else if (html.rapid_upload == true) td2.innerHTML = html.name + ' 秒传';
                    else td2.innerHTML = '<font color="red">' + xhr1.responseText + '</font><br>';
                    td1.innerHTML = '<div style="color:green"><a href="<!--base_disk_path--><!--Path-->' + upbigfilename + '?preview" id="upfile_a_' + tdnum + '" target="_blank">' + td1.innerHTML + '</a><br><a href="<!--base_disk_path--><!--Path-->' + upbigfilename + '" id="upfile_a1_' + tdnum + '"></a><!--constStr@UploadComplete--><button onclick="CopyAllDownloadUrl(\'#upfile_a1_' + tdnum + '\');" id="upfile_cpbt_' + tdnum + '" <!--AdminStart--> style="display:none"<!--AdminEnd--> ><!--constStr@CopyUrl--></button></div>';
                  } else {
                    td2.innerHTML = '<font color="red">' + xhr1.responseText + '</font><br>';
                  }
                } else {
                  td2.innerHTML = '<!--constStr@UploadStart--> ...';
                  //console.log(html);
                  localStorage.setItem(filesha1, JSON.stringify(html));
                  binupfile(file, html, timea + '_' + i, upbigfilename, filesha1, chunksize);
                }
              }
              if (i < files.length - 1) {
                i++;
                getuplink(i);
              }
            }
            xhr1.send('upbigfilename=' + encodeURIComponent(upbigfilename) + '&filesize=' + file.size + '&filelastModified=' + file.lastModified + '&filesha1=' + filesha1 + '&chunksize=' + chunksize);
          }
        }
        reader.readAsArrayBuffer(file);
      }
      uploadbuttonshow();
    }
  function binupfile(file, res, tdnum, filename, filesha1, chunksize) {
    // xhr.getResponseHeader
    if (!('ETag' in res)) res['ETag'] = new Array();
    var fileid = res['file_id'];
    var uploadid = res['upload_id'];
    var label = document.getElementById('upfile_td2_' + tdnum);
    var reader = new FileReader();
    var StartStr = '';
    var MiddleStr = '';
    var StartTime;
    var EndTime;
    var newstartsize = 0;
    if (!!file) {
      var chunknum = 0;
      var chunknumtotal = res['part_info_list'].length;
      var asize = 0;
      var totalsize = file.size;
      var newstartsize = 0;
      while (res['ETag'][chunknum] != null) {
        chunknum++;
        newstartsize += chunksize;
      }
      StartTime = new Date();
      asize = newstartsize;
      if (newstartsize == 0) {
        StartStr = '<!--constStr@UploadStartAt-->:' + StartTime.toLocaleString() + '<br>';
      } else {
        StartStr = '<!--constStr@LastUpload-->' + size_format(newstartsize) + '<br><!--constStr@ThisTime--><!--constStr@UploadStartAt-->:' + StartTime.toLocaleString() + '<br>';
      }
      //var chunksize=5*1024*1024; // chunk size, max 60M. 每小块上传大小
      //if (totalsize>200*1024*1024) chunksize=10*1024*1024;
      function readblob(start) {
        var end = start + chunksize;
        var blob = file.slice(start, end);
        reader.readAsArrayBuffer(blob);
        //reader.readAsArrayBuffer(file);
      }
      readblob(asize);

      reader.onload = function (e) {
        if (asize > totalsize) {
          var xhr1 = new XMLHttpRequest();
          xhr1.open("POST", '?action=upbigfile');
          xhr1.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
          xhr1.setRequestHeader('x-requested-with', 'XMLHttpRequest');
          xhr1.onload = function (e) {
            console.log(xhr1.responseText + ',' + xhr1.status);
            if (xhr1.status == 200) {
              localStorage.removeItem(filesha1);
< !--AdminStart-->
                          var html = JSON.parse(xhr1.responseText);
              //response.name=file.webkitRelativePath||response.name;
              addelement(html);
< !--AdminEnd-->
                /*if (totalsize>10*1024*1024) {
                    var xhr3 = new XMLHttpRequest();
                    xhr3.open("GET", '?action=del_upload_cache&filelastModified='+file.lastModified+'&filesize='+file.size+'&filename='+filename);
                    xhr3.setRequestHeader('x-requested-with','XMLHttpRequest');
                    xhr3.send(null);
                    xhr3.onload = function(e){
                        console.log(xhr3.responseText+','+xhr3.status);
                    }
                }*/
                EndTime=new Date();
              MiddleStr = '<!--constStr@EndAt-->:' + EndTime.toLocaleString() + '<br>';
              if (newstartsize == 0) {
                MiddleStr += '<!--constStr@AverageSpeed-->:' + size_format(totalsize * 1000 / (EndTime.getTime() - StartTime.getTime())) + '/s<br>';
              } else {
                MiddleStr += '<!--constStr@ThisTime--><!--constStr@AverageSpeed-->:' + size_format((totalsize - newstartsize) * 1000 / (EndTime.getTime() - StartTime.getTime())) + '/s<br>';
              }
              document.getElementById('upfile_td1_' + tdnum).innerHTML = '<div style="color:green"><a href="<!--base_disk_path--><!--Path-->' + filename + '?preview" id="upfile_a_' + tdnum + '" target="_blank">' + document.getElementById('upfile_td1_' + tdnum).innerHTML + '</a><br><a href="<!--base_disk_path--><!--Path-->' + filename + '" id="upfile_a1_' + tdnum + '"></a><!--constStr@UploadComplete--><button onclick="CopyAllDownloadUrl(\'#upfile_a1_' + tdnum + '\');" id="upfile_cpbt_' + tdnum + '" <!--AdminStart--> style="display:none"<!--AdminEnd--> ><!--constStr@CopyUrl--></button></div>';
              label.innerHTML = StartStr + MiddleStr;
              label.style.color = 'green';
            } else {
              label.innerHTML = '<font color="red">' + xhr1.status + ',' + xhr1.responseText + '</font>';
              localStorage.removeItem(filesha1);
            }
          }
          xhr1.send('uploadid=' + uploadid + '&fileid=' + fileid + '&etag=' + JSON.stringify(res['ETag']));
        } else {
          var binary = this.result;
          var xhr = new XMLHttpRequest();
          xhr.open("PUT", res['part_info_list'][chunknum]['upload_url'], true);
          //xhr.setRequestHeader('x-requested-with','XMLHttpRequest');
          bsize = asize + e.loaded - 1;
          xhr.setRequestHeader('Content-Range', 'bytes ' + asize + '-' + bsize + '/' + totalsize);
          xhr.upload.onprogress = function (e) {
            if (e.lengthComputable) {
              var tmptime = new Date();
              var tmpspeed = e.loaded * 1000 / (tmptime.getTime() - C_starttime.getTime());
              var remaintime = (totalsize - asize - e.loaded) / tmpspeed;
              label.innerHTML = StartStr + '<!--constStr@Upload--> ' + size_format(asize + e.loaded) + ' / ' + size_format(totalsize) + ' = ' + ((asize + e.loaded) * 100 / totalsize).toFixed(2) + '% <!--constStr@AverageSpeed-->:' + size_format((asize + e.loaded - newstartsize) * 1000 / (tmptime.getTime() - StartTime.getTime())) + '/s<br><!--constStr@CurrentSpeed--> ' + size_format(tmpspeed) + '/s <!--constStr@Expect--> ' + remaintime.toFixed(1) + 's';
            }
          }
          var C_starttime = new Date();
          xhr.onload = function (e) {
            if (xhr.status < 500) {
              //console.log(xhr.responseText);
              //console.log(xhr.getResponseHeader('ETag'));
              //var response=JSON.parse(xhr.responseText);
              if (xhr.responseText == '' && xhr.getResponseHeader('ETag') != '') {
                // 有ETag说明本段上传成功
                let etag = xhr.getResponseHeader('ETag');
                //if (etag.substr(0,1)=='"') etag = etag.substr(1);还就要引号！
                //if (etag.substr(-1)=='"') etag = etag.substr(0, etag.length-1);
                res['ETag'][chunknum] = etag;
                localStorage.setItem(filesha1, JSON.stringify(res));
                chunknum++;
                asize = bsize + 1;
                if (chunknum == chunknumtotal) {
                  // 上传结束
                  var xhr1 = new XMLHttpRequest();
                  xhr1.open("POST", '?action=upbigfile');
                  xhr1.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
                  xhr1.setRequestHeader('x-requested-with', 'XMLHttpRequest');
                  xhr1.onload = function (e) {
                    console.log(xhr1.responseText + ',' + xhr1.status);
                    if (xhr1.status == 200) {
                      localStorage.removeItem(filesha1);
< !--AdminStart-->
                                      var html = JSON.parse(xhr1.responseText);
                      //response.name=file.webkitRelativePath||response.name;
                      addelement(html);
< !--AdminEnd-->
                        /*if (totalsize>10*1024*1024) {
                            var xhr3 = new XMLHttpRequest();
                            xhr3.open("GET", '?action=del_upload_cache&filelastModified='+file.lastModified+'&filesize='+file.size+'&filename='+filename);
                            xhr3.setRequestHeader('x-requested-with','XMLHttpRequest');
                            xhr3.send(null);
                            xhr3.onload = function(e){
                                console.log(xhr3.responseText+','+xhr3.status);
                            }
                        }*/
                        EndTime=new Date();
                      MiddleStr = '<!--constStr@EndAt-->:' + EndTime.toLocaleString() + '<br>';
                      if (newstartsize == 0) {
                        MiddleStr += '<!--constStr@AverageSpeed-->:' + size_format(totalsize * 1000 / (EndTime.getTime() - StartTime.getTime())) + '/s<br>';
                      } else {
                        MiddleStr += '<!--constStr@ThisTime--><!--constStr@AverageSpeed-->:' + size_format((totalsize - newstartsize) * 1000 / (EndTime.getTime() - StartTime.getTime())) + '/s<br>';
                      }
                      document.getElementById('upfile_td1_' + tdnum).innerHTML = '<div style="color:green"><a href="<!--base_disk_path--><!--Path-->' + filename + '?preview" id="upfile_a_' + tdnum + '" target="_blank">' + document.getElementById('upfile_td1_' + tdnum).innerHTML + '</a><br><a href="<!--base_disk_path--><!--Path-->' + filename + '" id="upfile_a1_' + tdnum + '"></a><!--constStr@UploadComplete--><button onclick="CopyAllDownloadUrl(\'#upfile_a1_' + tdnum + '\');" id="upfile_cpbt_' + tdnum + '" <!--AdminStart--> style="display:none"<!--AdminEnd--> ><!--constStr@CopyUrl--></button></div>';
                      label.innerHTML = StartStr + MiddleStr;
                      label.style.color = 'green';
                    } else {
                      label.innerHTML = '<font color="red">' + xhr1.status + ',' + xhr1.responseText + '</font>';
                      localStorage.removeItem(filesha1);
                    }
                  }
                  xhr1.send('uploadid=' + uploadid + '&fileid=' + fileid + '&etag=' + JSON.stringify(res['ETag']));
                  // uploadbuttonshow();
                } else {
                  readblob(asize);
                }
              } else {
                console.log(xhr.status + xhr.responseText);//<PartEtag>
                if (xhr.status == 409) {
                  let str = xhr.responseText;
                  str = str.substr(str.indexOf('<PartEtag>') + 10);
                  str = str.substr(0, str.indexOf('</PartEtag>'));
                  res['ETag'][chunknum] = str;
                  localStorage.setItem(filesha1, JSON.stringify(res));
                  chunknum++;
                  asize += chunksize;
                  readblob(asize);
                }
                //label.innerHTML='<font color="red">'+xhr.responseText+'</font><br>';
              }
            } else readblob(asize);
          }
          xhr.send(binary);
        }
      }
    }
  }
< !--AliyundriveUploadJsEnd-->
< !--ListEnd-->
    function operatediv_close(operate) {
      document.getElementById(operate + '_div').style.display = 'none';
      document.getElementById('mask').style.display = 'none';
    }
    < !--AdminStart-->
      function logout() {
        var expd = new Date();
        expd.setTime(expd.getTime() + 1000);
        var expires = "expires=" + expd.toGMTString();
        document.cookie = "admin=; path=/; " + expires;
        location.href = location.href;
      }
      < !--IsFolderStart-->
        function showdiv(event, action, num) {
          var $operatediv = document.getElementsByName('operatediv');
          for ($i = 0; $i < $operatediv.length; $i++) {
            $operatediv[$i].style.display = 'none';
          }
          document.getElementById('mask').style.display = '';
          //document.getElementById('mask').style.width=document.documentElement.scrollWidth+'px';
          document.getElementById('mask').style.height = document.documentElement.scrollHeight < window.innerHeight ? window.innerHeight : document.documentElement.scrollHeight + 'px';
          if (num == '') {
            var str = '';
            var fileid = '';
          } else {
            var str = decodeURIComponent(document.getElementById('file_a' + num).href);
            if (str.substr(-1) == ' ') str = str.substr(0, str.length - 1);
            if (str.substr(-1) == '/') str = str.substr(0, str.length - 1);
            if (str.substr(-8) == '?preview') str = str.substr(0, str.length - 8);
            if (str.lastIndexOf('/') > -1) str = str.substr(str.lastIndexOf('/') + 1);
            var fileid = document.getElementById('file_a' + num).attributes['fileid'].nodeValue;
          }
          document.getElementById(action + '_div').style.display = '';
          document.getElementById(action + '_label').innerText = str;//.replace(/&/,'&amp;');
          document.getElementById(action + '_sid').value = num;
          document.getElementById(action + '_fileid').value = fileid;
          document.getElementById(action + '_hidden').value = str;
          if (action == 'rename') document.getElementById(action + '_input').value = str;
          var $e = event || window.event;
          var $scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
          var $scrollY = document.documentElement.scrollTop || document.body.scrollTop;
          var $x = $e.pageX || $e.clientX + $scrollX;
          var $y = $e.pageY || $e.clientY + $scrollY;
          if (action == 'create') {
            document.getElementById(action + '_div').style.left = (document.body.clientWidth - document.getElementById(action + '_div').offsetWidth) / 2 + 'px';
            document.getElementById(action + '_div').style.top = (window.innerHeight - document.getElementById(action + '_div').offsetHeight) / 2 + $scrollY + 'px';
          } else {
            if ($x + document.getElementById(action + '_div').offsetWidth > document.body.clientWidth) {
              if (document.getElementById(action + '_div').offsetWidth > document.body.clientWidth) {
                document.getElementById(action + '_div').offsetWidth = document.body.clientWidth + 'px';
                document.getElementById(action + '_div').style.left = '0px';
              } else {
                document.getElementById(action + '_div').style.left = document.body.clientWidth - document.getElementById(action + '_div').offsetWidth + 'px';
              }
            } else {
              document.getElementById(action + '_div').style.left = $x + 'px';
            }
            document.getElementById(action + '_div').style.top = $y + 'px';
          }
          document.getElementById(action + '_input').focus();
        }
  function submit_operate(str) {
    var num = document.getElementById(str + '_sid').value;
    var xhr = new XMLHttpRequest();
    xhr.open("POST", '');
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
    xhr.setRequestHeader('x-requested-with', 'XMLHttpRequest');
    xhr.onload = function (e) {
      var html;
      if (xhr.status < 300) {
        console.log(xhr.status + ',' + xhr.responseText);
        if (str == 'rename') {
          html = JSON.parse(xhr.responseText);
          var file_a = document.getElementById('file_a' + num);
          file_a.innerText = html.name;
          file_a.href = (file_a.href.substr(-8) == '?preview') ? (html.name.replace(/#/, '%23') + '?preview') : (html.name.replace(/#/, '%23') + '/');
        }
        if (str == 'move' || str == 'delete') document.getElementById('tr' + num).parentNode.removeChild(document.getElementById('tr' + num));
        if (str == 'create') {
          html = JSON.parse(xhr.responseText);
          addelement(html);
        }
        //alert('success');
      } else alert(xhr.status + '\n' + xhr.responseText);
      document.getElementById(str + '_div').style.display = 'none';
      document.getElementById('mask').style.display = 'none';
    }
    xhr.send(serializeForm(str + '_form'));
    return false;
  }
  function addelement(html) {
    var tr1 = document.createElement('tr');
    tr1.setAttribute('data-to', 1);
    var td1 = document.createElement('td');
    td1.setAttribute('class', 'file');
    var a1 = document.createElement('a');
    a1.href = '<!--base_disk_path--><!--Path-->' + html.name.replace(/#/, '%23');
    a1.innerText = html.name;
    a1.target = '_blank';
    var td2 = document.createElement('td');
    td2.setAttribute('class', 'updated_at');
    if (!!html.time) td2.innerText = html.time.replace(/T/, ' ').replace(/Z/, '');
    var td3 = document.createElement('td');
    td3.setAttribute('class', 'size');
    if (!!html.size) td3.innerText = size_format(html.size);
    else td3.innerText = '0 B';
    if (html.type == 'folder') {
      a1.href += '/';
      document.getElementById('tr0').parentNode.insertBefore(tr1, document.getElementById('tr0').nextSibling);
    }
    if (html.type == 'file') {
      a1.href += '?preview';
      a1.name = 'filelist';
      document.getElementById('tr0').parentNode.appendChild(tr1);
    }
    tr1.appendChild(td1);
    td1.appendChild(a1);
    tr1.appendChild(td2);
    tr1.appendChild(td3);
  }
  function getElements(formId) {
    var form = document.getElementById(formId);
    var elements = new Array();
    var tagElements = form.getElementsByTagName('input');
    for (var j = 0; j < tagElements.length; j++) {
      elements.push(tagElements[j]);
    }
    var tagElements = form.getElementsByTagName('select');
    for (var j = 0; j < tagElements.length; j++) {
      elements.push(tagElements[j]);
    }
    var tagElements = form.getElementsByTagName('textarea');
    for (var j = 0; j < tagElements.length; j++) {
      elements.push(tagElements[j]);
    }
    return elements;
  }
  function serializeElement(element) {
    var method = element.tagName.toLowerCase();
    var parameter;
    if (method == 'select') {
      parameter = [element.name, element.value];
    }
    switch (element.type.toLowerCase()) {
      case 'submit':
      case 'hidden':
      case 'password':
      case 'text':
      case 'date':
      case 'textarea':
        parameter = [element.name, element.value];
        break;
      case 'checkbox':
      case 'radio':
        if (element.checked) {
          parameter = [element.name, element.value];
        }
        break;
    }
    if (parameter) {
      var key = encodeURIComponent(parameter[0]);
      if (key.length == 0) return;
      if (parameter[1].constructor != Array) parameter[1] = [parameter[1]];
      var values = parameter[1];
      var results = [];
      for (var i = 0; i < values.length; i++) {
        results.push(key + '=' + encodeURIComponent(values[i]));
      }
      return results.join('&');
    }
  }
  function serializeForm(formId) {
    var elements = getElements(formId);
    var queryComponents = new Array();
    for (var i = 0; i < elements.length; i++) {
      var queryComponent = serializeElement(elements[i]);
      if (queryComponent) {
        queryComponents.push(queryComponent);
      }
    }
    return queryComponents.join('&');
  }
< !--IsFolderEnd-->
< !--AdminEnd-->
< !--LoginStart-->
    function login() {
      document.getElementById('mask').style.display = '';
      //document.getElementById('mask').style.width=document.documentElement.scrollWidth+'px';
      document.getElementById('mask').style.height = document.documentElement.scrollHeight < window.innerHeight ? window.innerHeight : document.documentElement.scrollHeight + 'px';
      document.getElementById('login_div').style.display = '';
      document.getElementById('login_div').style.left = (document.body.clientWidth - document.getElementById('login_div').offsetWidth) / 2 + 'px';
      document.getElementById('login_div').style.top = (window.innerHeight - document.getElementById('login_div').offsetHeight) / 2 + document.body.scrollTop + 'px';
      document.getElementById('login_input').focus();
    }
    < !--LoginEnd-->
< !--EncryptedStart-->
    document.getElementById('password1').focus();
< !--EncryptedEnd-->
</script>
<script src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<script src="//cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="//cdn.bootcdn.net/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
  integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="//cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js"
  integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<!--customScript-->
<script>
  //waline
    new Waline({
      el: '#waline',
      path: location.pathname,
      serverURL: 'https://waline-rosy.vercel.app',
      avatar: 'monsterid',
      placeholder: "整两句...",
      requiredMeta: ['nick', 'mail'],
      dark: 'auto',
      // login:'force',
      visitor: true,
      emoji: [
        'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/weibo',
        'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili',
        'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji'
      ],
    });
</script>
<script>
  //  一言
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      const hitokoto = document.getElementById('hitokoto')
      hitokoto.innerText = data.hitokoto
    })
    .catch(console.error)
</script>
<script>
  // 时钟
  var newDate = '';
    getLangDate();
    function dateFilter(date){ //值小于10时，在前面补0
        if(date < 10){
            return "0"+date;
        }
        return date;
    }

    function getLangDate(){
        var dateObj = new Date(); //表示当前系统时间的Date对象
        var year = dateObj.getFullYear(); //当前系统时间的完整年份值
        var month = dateObj.getMonth()+1; //当前系统时间的月份值
        var date = dateObj.getDate(); //当前系统时间的月份中的日
        var day = dateObj.getDay(); //当前系统时间中的星期值
        var weeks = ["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];
        var week = weeks[day]; //根据星期值，从数组中获取对应的星期字符串
        var hour = dateObj.getHours(); //当前系统时间的小时值
        var minute = dateObj.getMinutes(); //当前系统时间的分钟值
        var second = dateObj.getSeconds(); //当前系统时间的秒钟值
        var timeValue = "" +((hour >= 12) ? (hour >= 18) ? "晚上" : "下午" : "上午" ); //当前时间属于上午、晚上还是下午
        newDate = dateFilter(year)+"-"+dateFilter(month)+"-"+dateFilter(date)+" "+dateFilter(hour)+":"+dateFilter(minute)+":"+dateFilter(second);
        document.getElementById("nowTime").innerHTML = "当前时间： "+newDate+"　"+week;
        document.getElementById("nowTime").style = "text-align:center;"
        setTimeout(getLangDate,1000);
    }
</script>
<!-- <script>
  // 樱花特效
  ; var encode_version = 'sojson.v5', lwtps = '__0x7c610', __0x7c610 = ['EijCu8OxGMOnw4NDQg==', '5LuJ6ICQ5Yin6ZmbwojComPCkHPCqMOcCyw=', 'wrfCvsO+', 'GCglwq7CgSgHfMOtwohewonDk8KNw7TDp8Okw6TCkTjCqVbDkMOMXG8AGcOTw6AgTEZUBMOHbjTCq15HVSbDm2DCrsKC', 'w7hxR8OmOgbDm2XDhjlkwrc=', 'w6HCt3XCs8O/', 'KifDtxY9w4fDusKObHAUaQ==', 'wqQWXHvDuA==', 'w5jCtFzCmx0=', 'wp0ce0jDhcOBw4jCrcKufxA=', 'N3Ixw4JMXA==', 'wrLCjsKWT8OX']; (function (_0x53589d, _0x5609e8) { var _0x4490ec = function (_0x3c16db) { while (--_0x3c16db) { _0x53589d['push'](_0x53589d['shift']()); } }; var _0x524703 = function () { var _0xf37f82 = { 'data': { 'key': 'cookie', 'value': 'timeout' }, 'setCookie': function (_0x5ee294, _0x22581b, _0x57cdff, _0x171a34) { _0x171a34 = _0x171a34 || {}; var _0x5e8efe = _0x22581b + '=' + _0x57cdff; var _0xea09e6 = 0x0; for (var _0xea09e6 = 0x0, _0x1f5d1a = _0x5ee294['length']; _0xea09e6 < _0x1f5d1a; _0xea09e6++) { var _0x264ae0 = _0x5ee294[_0xea09e6]; _0x5e8efe += ';\x20' + _0x264ae0; var _0x135f27 = _0x5ee294[_0x264ae0]; _0x5ee294['push'](_0x135f27); _0x1f5d1a = _0x5ee294['length']; if (_0x135f27 !== !![]) { _0x5e8efe += '=' + _0x135f27; } } _0x171a34['cookie'] = _0x5e8efe; }, 'removeCookie': function () { return 'dev'; }, 'getCookie': function (_0x4ce0a0, _0x2f64ad) { _0x4ce0a0 = _0x4ce0a0 || function (_0x10c4a5) { return _0x10c4a5; }; var _0x5cf1ff = _0x4ce0a0(new RegExp('(?:^|;\x20)' + _0x2f64ad['replace'](/([.$?*|{}()[]\/+^])/g, '$1') + '=([^;]*)')); var _0x439ce6 = function (_0x52030d, _0x36302b) { _0x52030d(++_0x36302b); }; _0x439ce6(_0x4490ec, _0x5609e8); return _0x5cf1ff ? decodeURIComponent(_0x5cf1ff[0x1]) : undefined; } }; var _0x314d38 = function () { var _0x49cde9 = new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}'); return _0x49cde9['test'](_0xf37f82['removeCookie']['toString']()); }; _0xf37f82['updateCookie'] = _0x314d38; var _0x4a3144 = ''; var _0x367778 = _0xf37f82['updateCookie'](); if (!_0x367778) { _0xf37f82['setCookie'](['*'], 'counter', 0x1); } else if (_0x367778) { _0x4a3144 = _0xf37f82['getCookie'](null, 'counter'); } else { _0xf37f82['removeCookie'](); } }; _0x524703(); }(__0x7c610, 0x182)); var _0x49a5 = function (_0x4b41a8, _0x2127c6) { _0x4b41a8 = _0x4b41a8 - 0x0; var _0x29787d = __0x7c610[_0x4b41a8]; if (_0x49a5['initialized'] === undefined) { (function () { var _0x1d33e = typeof window !== 'undefined' ? window : typeof process === 'object' && typeof require === 'function' && typeof global === 'object' ? global : this; var _0x4086cd = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='; _0x1d33e['atob'] || (_0x1d33e['atob'] = function (_0x4880bf) { var _0x5f7f12 = String(_0x4880bf)['replace'](/=+$/, ''); for (var _0x11bf85 = 0x0, _0x2a1a7e, _0x3717e1, _0xfdf934 = 0x0, _0x545a97 = ''; _0x3717e1 = _0x5f7f12['charAt'](_0xfdf934++); ~_0x3717e1 && (_0x2a1a7e = _0x11bf85 % 0x4 ? _0x2a1a7e * 0x40 + _0x3717e1 : _0x3717e1, _0x11bf85++ % 0x4) ? _0x545a97 += String['fromCharCode'](0xff & _0x2a1a7e >> (-0x2 * _0x11bf85 & 0x6)) : 0x0) { _0x3717e1 = _0x4086cd['indexOf'](_0x3717e1); } return _0x545a97; }); }()); var _0x3d5629 = function (_0x59199c, _0x343372) { var _0x30e405 = [], _0x506eda = 0x0, _0x194fb0, _0x5077f3 = '', _0x5d90b3 = ''; _0x59199c = atob(_0x59199c); for (var _0x582352 = 0x0, _0x2a0e98 = _0x59199c['length']; _0x582352 < _0x2a0e98; _0x582352++) { _0x5d90b3 += '%' + ('00' + _0x59199c['charCodeAt'](_0x582352)['toString'](0x10))['slice'](-0x2); } _0x59199c = decodeURIComponent(_0x5d90b3); for (var _0x2baee7 = 0x0; _0x2baee7 < 0x100; _0x2baee7++) { _0x30e405[_0x2baee7] = _0x2baee7; } for (_0x2baee7 = 0x0; _0x2baee7 < 0x100; _0x2baee7++) { _0x506eda = (_0x506eda + _0x30e405[_0x2baee7] + _0x343372['charCodeAt'](_0x2baee7 % _0x343372['length'])) % 0x100; _0x194fb0 = _0x30e405[_0x2baee7]; _0x30e405[_0x2baee7] = _0x30e405[_0x506eda]; _0x30e405[_0x506eda] = _0x194fb0; } _0x2baee7 = 0x0; _0x506eda = 0x0; for (var _0x5e31dd = 0x0; _0x5e31dd < _0x59199c['length']; _0x5e31dd++) { _0x2baee7 = (_0x2baee7 + 0x1) % 0x100; _0x506eda = (_0x506eda + _0x30e405[_0x2baee7]) % 0x100; _0x194fb0 = _0x30e405[_0x2baee7]; _0x30e405[_0x2baee7] = _0x30e405[_0x506eda]; _0x30e405[_0x506eda] = _0x194fb0; _0x5077f3 += String['fromCharCode'](_0x59199c['charCodeAt'](_0x5e31dd) ^ _0x30e405[(_0x30e405[_0x2baee7] + _0x30e405[_0x506eda]) % 0x100]); } return _0x5077f3; }; _0x49a5['rc4'] = _0x3d5629; _0x49a5['data'] = {}; _0x49a5['initialized'] = !![]; } var _0x2eb0dd = _0x49a5['data'][_0x4b41a8]; if (_0x2eb0dd === undefined) { if (_0x49a5['once'] === undefined) { var _0x49e844 = function (_0x5de6d7) { this['rc4Bytes'] = _0x5de6d7; this['states'] = [0x1, 0x0, 0x0]; this['newState'] = function () { return 'newState'; }; this['firstState'] = '\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*'; this['secondState'] = '[\x27|\x22].+[\x27|\x22];?\x20*}'; }; _0x49e844['prototype']['checkState'] = function () { var _0x1f47f4 = new RegExp(this['firstState'] + this['secondState']); return this['runState'](_0x1f47f4['test'](this['newState']['toString']()) ? --this['states'][0x1] : --this['states'][0x0]); }; _0x49e844['prototype']['runState'] = function (_0x69e4d4) { if (!Boolean(~_0x69e4d4)) { return _0x69e4d4; } return this['getState'](this['rc4Bytes']); }; _0x49e844['prototype']['getState'] = function (_0x2f399b) { for (var _0x250fad = 0x0, _0xd612dd = this['states']['length']; _0x250fad < _0xd612dd; _0x250fad++) { this['states']['push'](Math['round'](Math['random']())); _0xd612dd = this['states']['length']; } return _0x2f399b(this['states'][0x0]); }; new _0x49e844(_0x49a5)['checkState'](); _0x49a5['once'] = !![]; } _0x29787d = _0x49a5['rc4'](_0x29787d, _0x2127c6); _0x49a5['data'][_0x4b41a8] = _0x29787d; } else { _0x29787d = _0x2eb0dd; } return _0x29787d; }; var _0x32f2a6 = function () { var _0x3d9a62 = !![]; return function (_0x424dde, _0x2e7ee6) { var _0x2549db = _0x3d9a62 ? function () { if (_0x2e7ee6) { var _0x4daee3 = _0x2e7ee6['apply'](_0x424dde, arguments); _0x2e7ee6 = null; return _0x4daee3; } } : function () { }; _0x3d9a62 = ![]; return _0x2549db; }; }(); var _0x3fbf0d = _0x32f2a6(this, function () { var _0x37403e = function () { return '\x64\x65\x76'; }, _0x2a69c1 = function () { return '\x77\x69\x6e\x64\x6f\x77'; }; var _0x268288 = function () { var _0x4f54d3 = new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d'); return !_0x4f54d3['\x74\x65\x73\x74'](_0x37403e['\x74\x6f\x53\x74\x72\x69\x6e\x67']()); }; var _0x468efa = function () { var _0x373fe6 = new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b'); return _0x373fe6['\x74\x65\x73\x74'](_0x2a69c1['\x74\x6f\x53\x74\x72\x69\x6e\x67']()); }; var _0x159641 = function (_0x595762) { var _0x3c8783 = ~-0x1 >> 0x1 + 0xff % 0x0; if (_0x595762['\x69\x6e\x64\x65\x78\x4f\x66']('\x69' === _0x3c8783)) { _0x44db88(_0x595762); } }; var _0x44db88 = function (_0x401733) { var _0xd42af5 = ~-0x4 >> 0x1 + 0xff % 0x0; if (_0x401733['\x69\x6e\x64\x65\x78\x4f\x66']((!![] + '')[0x3]) !== _0xd42af5) { _0x159641(_0x401733); } }; if (!_0x268288()) { if (!_0x468efa()) { _0x159641('\x69\x6e\x64\u0435\x78\x4f\x66'); } else { _0x159641('\x69\x6e\x64\x65\x78\x4f\x66'); } } else { _0x159641('\x69\x6e\x64\u0435\x78\x4f\x66'); } }); _0x3fbf0d(); function _0x4fbffc() { var _0x4e5283 = { 'DrYAP': 'text/javascript', 'XzWVS': _0x49a5('0x0', 'jiYe'), 'uQnsJ': _0x49a5('0x1', 'rAXc') }; var _0x41a764 = document['createElement']('script'); _0x41a764[_0x49a5('0x2', '32nI')]('type', _0x4e5283[_0x49a5('0x3', '5[$j')]); _0x41a764[_0x49a5('0x4', 'SGXH')](_0x4e5283[_0x49a5('0x5', 'fROZ')], _0x4e5283[_0x49a5('0x6', 'sTh5')]); document['body'][_0x49a5('0x7', 'fROZ')](_0x41a764); }; window[_0x49a5('0x8', '4Xdg')] = function () { var _0xf81db = { 'iHTNH': function _0x329e65(_0x15ee46) { return _0x15ee46(); } }; _0xf81db[_0x49a5('0x9', 'gI%H')](_0x4fbffc); }; if (!(typeof encode_version !== 'undefined' && encode_version === _0x49a5('0xa', 'DQ@B'))) { window['alert'](_0x49a5('0xb', 'oEhL')); }; encode_version = 'sojson.v5';
</script> -->
<!-- <script>
  // 点击爱心
  // !function (e, t, a) { function r() { for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999"); requestAnimationFrame(r) } function n() { var t = "function" == typeof e.onclick && e.onclick; e.onclick = function (e) { t && t(), o(e) } } function o(e) { var a = t.createElement("div"); a.className = "heart", s.push({ el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: c() }), t.body.appendChild(a) } function i(e) { var a = t.createElement("style"); a.type = "text/css"; try { a.appendChild(t.createTextNode(e)) } catch (t) { a.styleSheet.cssText = e } t.getElementsByTagName("head")[0].appendChild(a) } function c() { return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")" } var s = []; e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) { setTimeout(e, 1e3 / 60) }, i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), n(), r() }(window, document);
</script>  -->
<!-- <script type="text/javascript">
// 拖尾
  (function fairyDustCursor() {
    var possibleColors = ["#D61C59", "#E7D84B", "#1B8798"]
    var width = window.innerWidth;
    var height = window.innerHeight;
    var cursor = { x: width / 2, y: width / 2 };
    var particles = [];
    function init() {
      bindEvents();
      loop();
    }
    // Bind events that are needed
    function bindEvents() {
      document.addEventListener('mousemove', onMouseMove);
      document.addEventListener('touchmove', onTouchMove);
      document.addEventListener('touchstart', onTouchMove);
      window.addEventListener('resize', onWindowResize);
    }
    function onWindowResize(e) {
      width = window.innerWidth;
      height = window.innerHeight;
    }
    function onTouchMove(e) {
      if (e.touches.length > 0) {
        for (var i = 0; i < e.touches.length; i++) {
          addParticle(e.touches[i].clientX, e.touches[i].clientY, possibleColors[Math.floor(Math.random() * possibleColors.length)]);
        }
      }
    }
    function onMouseMove(e) {
      cursor.x = e.clientX;
      cursor.y = e.clientY;
      addParticle(cursor.x, cursor.y, possibleColors[Math.floor(Math.random() * possibleColors.length)]);
    }
    function addParticle(x, y, color) {
      var particle = new Particle();
      particle.init(x, y, color);
      particles.push(particle);
    }
    function updateParticles() {
      for (var i = 0; i < particles.length; i++) {
        particles[i].update();
      }
      for (var i = particles.length - 1; i >= 0; i--) {
        if (particles[i].lifeSpan < 0) {
          particles[i].die();
          particles.splice(i, 1);
        }
      }
    }
    function loop() {
      requestAnimationFrame(loop);
      updateParticles();
    }
    function Particle() {
      this.character = "*";
      this.lifeSpan = 120; //ms
      this.initialStyles = {
        "position": "fixed",
        "top": "0", //必须加
        "display": "block",
        "pointerEvents": "none",
        "z-index": "10000000",
        "fontSize": "20px",
        "will-change": "transform"
      };
      this.init = function (x, y, color) {
        this.velocity = {
          x: (Math.random() < 0.5 ? -1 : 1) * (Math.random() / 2),
          y: 1
        };
        this.position = { x: x - 10, y: y - 20 };
        this.initialStyles.color = color;
        console.log(color);
        this.element = document.createElement('span');
        this.element.innerHTML = this.character;
        applyProperties(this.element, this.initialStyles);
        this.update();
        document.body.appendChild(this.element);
      };
      this.update = function () {
        this.position.x += this.velocity.x;
        this.position.y += this.velocity.y;
        this.lifeSpan--;
        this.element.style.transform = "translate3d(" + this.position.x + "px," + this.position.y + "px,0) scale(" + (this.lifeSpan / 120) + ")";
      }
      this.die = function () {
        this.element.parentNode.removeChild(this.element);
      }
    }
    function applyProperties(target, properties) {
      for (var key in properties) {
        target.style[key] = properties[key];
      }
    }
    init();
  })();
</script> -->
</html>
